<link rel="import" href="../bower/polymer/polymer.html" />
<link rel="import" href="./cm.html" />
<link rel="import" href="./code-fonts.html" />

<polymer-element name="cm-box">
  <template>
    <link rel="stylesheet" href="../bower/codemirror/lib/codemirror.css" />
    <link rel="stylesheet" href="../bower/codemirror/theme/neat.css" />
    <textarea id="ta"></textarea>
    <style>

      :host * {
        box-sizing: border-box;
      }
      :host {
        width: 100%;
        height: 500px;
      }
      .CodeMirror {
        width: 100%;
        height: 100%;
        font-family: 'Inconsolata', monospace;
      }
    </style>
  </template>
  <script>
    Polymer({
      ready: function() {
        var ta = this.$.ta;
        this.cm = CodeMirror.fromTextArea(ta, {
          value: '',
          theme: 'neat',
          lineNumbers: true,
          tabSize: 2
        });
      },
      value: function(v) {
        if (!arguments.length) return this.cm.getValue();
        this.cm.setValue(v);
        return this;
      }
    });
  </script>
</polymer-element>
